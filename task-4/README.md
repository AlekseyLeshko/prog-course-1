
# Задание 4

Одним из предыдущих заданий было написать функцию клонирования произвольной
структуры JavaScript. Объяснением необходимости клонирования структуры
было то, что некоторые функции любят объект повреждать, то есть,
изменять без спроса. Но такое встречается достаточно редко, поэтому пример
был по большому счёту игрушечный, и нужен был для того, чтобы вспомнить
навыки работы с рекурсией.

А вот что может быть применимо чаще — это необходимость клонирования объектов DOM.

Например, когда мы программируем перетаскивание мышкой квадратных блоков
в какой-нибудь системе работы с тикетами, или в системе по настройке
интерфейса, мы можем захотеть создать эффект, что перетаскивается
не сам объект, а его бледная тень: копия блока с повышенной прозрачностью.

При нажатии мышки на DOM-объекте мы можем вызвать функцию клонирования,
затем вставить клон назад в DOM, рядом с оригинальным объектом, а затем,
при перемещении мыши перемещать клон.

### Задание

Рядом с этим описанием лежит [task-4.html](task-4.html), который содержит
элемент `elementToClone`.

1. Скопируйте файл `task-4.html` в свой репозитарий.
2. Напишите функцию, которая принимает на вход ссылку на DOM-элемент,
и возвращает его копию (клон), настолько похожую на оригинал, насколько можно.
 ```javascript
var domElement = document.getElementById("elementToClone");
var clonedElement = clone(domElement);
clonedElement.style.opacity = "0.5";
domElement.parentNode.appendChild(clonedElement);
 ```

3. Запишите эту функцию в отдельный .js-файл, положите его рядом с `task-4.html`, и сошлитесь на этот файл изнутри `task-4.html`. То есть, HTML-страница не должна содержать код, код должен быть в отдельном, подключаемом извне, скрипте.

Напишите задание двумя способами. Первый — с использованием существующего метода cloneNode(). Второй — конструирование копий элементов вручную и рекурсией.

